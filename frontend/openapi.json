{"openapi":"3.1.0","info":{"title":"Web Site API","description":"API for the web site application","version":"1.0.0"},"paths":{"/api/products/{product_id}":{"get":{"tags":["Продукты"],"summary":"Получить конкретный продукт","operationId":"get_product_api_products__product_id__get","parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponseSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/products":{"get":{"tags":["Продукты"],"summary":"Получить список продуктов","operationId":"get_products_api_products_get","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","exclusiveMinimum":0,"default":1,"title":"Page"}},{"name":"count","in":"query","required":false,"schema":{"type":"integer","maximum":100,"exclusiveMinimum":0,"default":10,"title":"Count"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/category/{category_id}":{"get":{"tags":["Продукты"],"summary":"Получить продукты по категории","operationId":"get_products_by_category_api_category__category_id__get","parameters":[{"name":"category_id","in":"path","required":true,"schema":{"type":"integer","title":"Category Id"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","exclusiveMinimum":0,"default":1,"title":"Page"}},{"name":"count","in":"query","required":false,"schema":{"type":"integer","maximum":100,"exclusiveMinimum":0,"default":10,"title":"Count"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductListResponseSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/products/{product_id}/recommendations":{"get":{"tags":["Продукты"],"summary":"Получить рекомендованные продукты","operationId":"get_recommendations_api_products__product_id__recommendations_get","parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductListResponseSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users":{"get":{"tags":["Пользователи"],"summary":"Получить информацию о конкретном пользователе","operationId":"get_user_api_users_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserSchema"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/users/":{"post":{"tags":["Пользователи"],"summary":"Добавить пользователя","operationId":"create_user_api_users__post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/UserSchema"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/{user_id}/password/":{"put":{"tags":["Пользователи"],"summary":"Обновить пароль","operationId":"update_user_password_api_users__user_id__password__put","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"new_password","in":"query","required":true,"schema":{"type":"string","title":"New Password"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/{user_id}":{"delete":{"tags":["Пользователи"],"summary":"Удалить пользователя","operationId":"delete_user_api_users__user_id__delete","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/login":{"post":{"tags":["Пользователи"],"summary":"Аутентификация пользователя","operationId":"login_user_api_users_login_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/UserAuth"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserInit"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/carts/items/":{"post":{"tags":["Корзина"],"summary":"Добавить товар в корзину","operationId":"add_to_cart_api_users_carts_items__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartProductRequestSchema"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartResponseSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/users/carts/items/{product_id}/":{"put":{"tags":["Корзина"],"summary":"Обновить количество товара","operationId":"update_cart_item_api_users_carts_items__product_id___put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}},{"name":"quantity","in":"query","required":true,"schema":{"type":"integer","title":"Quantity"}},{"name":"variant_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Variant Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartResponseSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Корзина"],"summary":"Удалить товар из корзины","operationId":"remove_from_cart_api_users_carts_items__product_id___delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}},{"name":"variant_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Variant Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartUpdateResponseSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/carts/":{"get":{"tags":["Корзина"],"summary":"Получить содержимое корзины","operationId":"get_cart_api_users_carts__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartResponseSchema"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/users/order/":{"post":{"tags":["Заказ"],"summary":"Создание заказа","operationId":"create_order_api_users_order__post","responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderSchema"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/users/order/{order_id}/":{"get":{"tags":["Заказ"],"summary":"Получение заказа по ID","operationId":"get_order_api_users_order__order_id___get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"integer","title":"Order Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/orders/":{"get":{"tags":["Заказ"],"summary":"Получение всех заказов пользователя","operationId":"get_user_orders_api_users_orders__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/OrderSchema"},"type":"array","title":"Response Get User Orders Api Users Orders  Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}}},"components":{"schemas":{"CartProductItemSchema":{"properties":{"id":{"type":"string","title":"Id"},"quantity":{"type":"integer","maximum":100.0,"exclusiveMinimum":0.0,"title":"Quantity"},"cost":{"$ref":"#/components/schemas/Cost"},"merchandise":{"$ref":"#/components/schemas/Merchandise"}},"type":"object","required":["id","quantity","cost","merchandise"],"title":"CartProductItemSchema"},"CartProductRequestSchema":{"properties":{"product_id":{"type":"integer","title":"Product Id"},"variant_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Variant Id"},"quantity":{"type":"integer","maximum":100.0,"exclusiveMinimum":0.0,"title":"Quantity"}},"type":"object","required":["product_id","quantity"],"title":"CartProductRequestSchema"},"CartResponseSchema":{"properties":{"user_id":{"type":"integer","title":"User Id"},"items":{"items":{"$ref":"#/components/schemas/CartProductItemSchema"},"type":"array","title":"Items"},"total_items":{"type":"integer","title":"Total Items"},"total_price":{"type":"number","title":"Total Price"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["user_id","items","total_items","total_price","created_at","updated_at"],"title":"CartResponseSchema"},"CartUpdateResponseSchema":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"cart":{"$ref":"#/components/schemas/CartResponseSchema"}},"type":"object","required":["success","message","cart"],"title":"CartUpdateResponseSchema"},"Cost":{"properties":{"totalAmount":{"$ref":"#/components/schemas/CostAmount"}},"type":"object","required":["totalAmount"],"title":"Cost"},"CostAmount":{"properties":{"amount":{"type":"string","title":"Amount"},"currencyCode":{"type":"string","title":"Currencycode"}},"type":"object","required":["amount","currencyCode"],"title":"CostAmount"},"FeaturedImage":{"properties":{"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"},"altText":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Alttext"}},"type":"object","required":["url","altText"],"title":"FeaturedImage"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ImageEdgeSchema":{"properties":{"node":{"$ref":"#/components/schemas/ProductImageNodeSchema"}},"type":"object","required":["node"],"title":"ImageEdgeSchema"},"Merchandise":{"properties":{"id":{"type":"string","title":"Id"},"title":{"type":"string","title":"Title"},"product":{"$ref":"#/components/schemas/ProductInfo"},"selectedOptions":{"items":{"$ref":"#/components/schemas/SelectedOption"},"type":"array","title":"Selectedoptions"}},"type":"object","required":["id","title","product","selectedOptions"],"title":"Merchandise"},"MoneySchema":{"properties":{"amount":{"type":"string","title":"Amount"},"currencyCode":{"type":"string","title":"Currencycode"}},"type":"object","required":["amount","currencyCode"],"title":"MoneySchema"},"OrderSchema":{"properties":{"id":{"type":"integer","title":"Id"},"user_id":{"type":"integer","title":"User Id"},"payment":{"type":"boolean","title":"Payment"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"order_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Order Id"},"status":{"type":"string","title":"Status","default":"pending"},"total_amount":{"type":"number","title":"Total Amount","default":0.0},"currency_code":{"type":"string","title":"Currency Code","default":"USD"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"},"shipping_address":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Shipping Address"},"payment_method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Payment Method"},"items":{"anyOf":[{"items":{},"type":"array"},{"type":"null"}],"title":"Items"}},"type":"object","required":["id","user_id","payment"],"title":"OrderSchema"},"PriceRangeSchema":{"properties":{"minVariantPrice":{"$ref":"#/components/schemas/MoneySchema"},"maxVariantPrice":{"$ref":"#/components/schemas/MoneySchema"}},"type":"object","required":["minVariantPrice","maxVariantPrice"],"title":"PriceRangeSchema"},"ProductImageNodeSchema":{"properties":{"url":{"type":"string","title":"Url"},"altText":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Alttext"},"width":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Width"},"height":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Height"}},"type":"object","required":["url"],"title":"ProductImageNodeSchema"},"ProductInfo":{"properties":{"id":{"type":"string","title":"Id"},"title":{"type":"string","title":"Title"},"handle":{"type":"string","title":"Handle"},"featuredImage":{"anyOf":[{"$ref":"#/components/schemas/FeaturedImage"},{"type":"null"}]}},"type":"object","required":["id","title","handle","featuredImage"],"title":"ProductInfo"},"ProductListResponseSchema":{"properties":{"edges":{"items":{"additionalProperties":{"$ref":"#/components/schemas/ProductResponseSchema"},"type":"object"},"type":"array","title":"Edges"}},"type":"object","required":["edges"],"title":"ProductListResponseSchema"},"ProductOptionSchema":{"properties":{"id":{"type":"string","title":"Id"},"name":{"type":"string","title":"Name"},"values":{"items":{"type":"string"},"type":"array","title":"Values"}},"type":"object","required":["id","name","values"],"title":"ProductOptionSchema"},"ProductResponseSchema":{"properties":{"title":{"type":"string","maxLength":100,"title":"Title"},"description":{"type":"string","title":"Description"},"descriptionHtml":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Descriptionhtml"},"handle":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Handle"},"id":{"type":"string","title":"Id"},"availableForSale":{"type":"boolean","title":"Availableforsale"},"priceRange":{"$ref":"#/components/schemas/PriceRangeSchema"},"options":{"items":{"$ref":"#/components/schemas/ProductOptionSchema"},"type":"array","title":"Options"},"variants":{"additionalProperties":{"items":{"$ref":"#/components/schemas/VariantEdgeSchema"},"type":"array"},"type":"object","title":"Variants"},"featuredImage":{"$ref":"#/components/schemas/ProductImageNodeSchema"},"images":{"additionalProperties":{"items":{"$ref":"#/components/schemas/ImageEdgeSchema"},"type":"array"},"type":"object","title":"Images"},"seo":{"$ref":"#/components/schemas/SeoSchema"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"},"updatedAt":{"type":"string","format":"date-time","title":"Updatedat"},"rating":{"type":"number","maximum":5.0,"minimum":0.0,"title":"Rating","default":0.0}},"type":"object","required":["title","description","id","availableForSale","priceRange","options","variants","featuredImage","images","seo","tags","updatedAt"],"title":"ProductResponseSchema"},"ProductVariantNodeSchema":{"properties":{"id":{"type":"string","title":"Id"},"availableForSale":{"type":"boolean","title":"Availableforsale"},"selectedOptions":{"items":{"$ref":"#/components/schemas/SelectedOptionSchema"},"type":"array","title":"Selectedoptions"},"price":{"$ref":"#/components/schemas/MoneySchema"}},"type":"object","required":["id","availableForSale","selectedOptions","price"],"title":"ProductVariantNodeSchema"},"SelectedOption":{"properties":{"name":{"type":"string","title":"Name"},"value":{"type":"string","title":"Value"}},"type":"object","required":["name","value"],"title":"SelectedOption"},"SelectedOptionSchema":{"properties":{"name":{"type":"string","title":"Name"},"value":{"type":"string","title":"Value"}},"type":"object","required":["name","value"],"title":"SelectedOptionSchema"},"SeoSchema":{"properties":{"title":{"type":"string","title":"Title"},"description":{"type":"string","title":"Description"}},"type":"object","required":["title","description"],"title":"SeoSchema"},"UserAuth":{"properties":{"password":{"type":"string","maxLength":200,"minLength":8,"title":"Password"},"email":{"type":"string","format":"email","title":"Email"}},"type":"object","required":["password","email"],"title":"UserAuth"},"UserInit":{"properties":{"token":{"type":"string","title":"Token"}},"type":"object","required":["token"],"title":"UserInit"},"UserSchema":{"properties":{"password":{"type":"string","maxLength":200,"minLength":8,"title":"Password"},"email":{"type":"string","format":"email","title":"Email"},"username":{"type":"string","maxLength":20,"minLength":3,"title":"Username"}},"type":"object","required":["password","email","username"],"title":"UserSchema"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VariantEdgeSchema":{"properties":{"node":{"$ref":"#/components/schemas/ProductVariantNodeSchema"}},"type":"object","required":["node"],"title":"VariantEdgeSchema"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"token"}}}}}}